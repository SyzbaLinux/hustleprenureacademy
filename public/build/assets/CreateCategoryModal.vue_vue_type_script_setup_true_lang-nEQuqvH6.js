import{d as w,r as y,s as C,x as T,c as N,T as j,b as g,w as f,h as n,i as c,a as t,y as p,f as b,g as S,j as u,v as _,t as B,o as s}from"./app-sSc8GzTu.js";const V={class:"flex min-h-full items-center justify-center p-4"},A={key:0,class:"relative w-full max-w-md transform rounded-lg bg-white dark:bg-slate-800 shadow-xl border border-gray-200 dark:border-slate-700"},q={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},E={class:"flex items-center justify-end gap-3 pt-2"},F=["disabled"],M={key:0},O={key:1},I=w({__name:"CreateCategoryModal",props:{show:{type:Boolean}},emits:["close","created"],setup(l,{emit:v}){const x=l,i=v,m=y(null),a=y({name:"",processing:!1,errors:{name:""}});C(()=>x.show,o=>{o?T(()=>{var e;(e=m.value)==null||e.focus()}):k()});const k=()=>{a.value.name="",a.value.errors.name="",a.value.processing=!1},d=()=>{a.value.processing||i("close")},h=async()=>{var o;if(!a.value.processing){a.value.processing=!0,a.value.errors.name="";try{const e=await fetch("/admin/categories/quick",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""},body:JSON.stringify({name:a.value.name})}),r=await e.json();e.ok?(i("created",r.category),i("close")):r.errors&&r.errors.name?a.value.errors.name=Array.isArray(r.errors.name)?r.errors.name[0]:r.errors.name:a.value.errors.name=r.message||"Failed to create category"}catch{a.value.errors.name="An error occurred. Please try again."}finally{a.value.processing=!1}}};return(o,e)=>(s(),N(j,{to:"body"},[g(p,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:f(()=>[l.show?(s(),n("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:b(d,["self"])},[e[6]||(e[6]=t("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm"},null,-1)),t("div",V,[g(p,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:f(()=>[l.show?(s(),n("div",A,[t("div",{class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-slate-700"},[e[2]||(e[2]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Create New Category ",-1)),t("button",{type:"button",onClick:d,class:"p-1 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors"},[...e[1]||(e[1]=[t("i",{class:"fas fa-times"},null,-1)])])]),t("form",{onSubmit:b(h,["prevent"]),class:"p-4 space-y-4"},[t("div",null,[e[3]||(e[3]=t("label",{for:"category-name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[u(" Category Name "),t("span",{class:"text-red-500"},"*")],-1)),S(t("input",{id:"category-name",ref_key:"nameInput",ref:m,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.name=r),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white",placeholder:"Enter category name"},null,512),[[_,a.value.name]]),a.value.errors.name?(s(),n("p",q,B(a.value.errors.name),1)):c("",!0)]),t("div",E,[t("button",{type:"button",onClick:d,class:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"}," Cancel "),t("button",{type:"submit",disabled:a.value.processing,class:"px-6 py-2 bg-gradient-to-r from-[#b30d4f] to-[#8b0a3d] text-white font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},[a.value.processing?(s(),n("span",M,[...e[4]||(e[4]=[t("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),u(" Creating... ",-1)])])):(s(),n("span",O,[...e[5]||(e[5]=[t("i",{class:"fas fa-plus mr-2"},null,-1),u(" Create Category ",-1)])]))],8,F)])],32)])):c("",!0)]),_:1})])])):c("",!0)]),_:1})]))}});export{I as _};
