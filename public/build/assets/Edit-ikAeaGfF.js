import{d as M,p as P,u as S,c as j,w as y,a as e,b as _,e as s,l as U,t as l,f as q,g as a,h as n,j as b,n as p,o as d,i as u,v as f,F as C,r as V,q as m,k as D}from"./app-DmVVAfp2.js";import{A as B}from"./AdminLayout-Duw2_jsE.js";import"./NavLink-CjtENRI9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"max-w-5xl mx-auto space-y-6"},N={class:"flex items-center gap-4"},$={class:"text-2xl font-bold text-gray-900 dark:text-white"},A={class:"grid grid-cols-2 gap-4"},z={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},I={class:"flex items-start gap-6"},R={key:0,class:"w-48 h-48 rounded-lg overflow-hidden flex-shrink-0 border-2 border-gray-200 dark:border-slate-600"},G=["src"],O={key:1,class:"w-48 h-48 rounded-lg overflow-hidden flex-shrink-0 border-2 border-gray-200 dark:border-slate-600"},W=["src","alt"],Z={key:2,class:"w-48 h-48 rounded-lg bg-gradient-to-br from-[#b30d4f] to-[#8b0a3d] flex items-center justify-center flex-shrink-0"},H={class:"flex-1"},J={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Q={class:"md:col-span-2"},X={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Y=["value"],tt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},et=["value"],rt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},st={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ot={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},dt={class:"grid grid-cols-2 gap-4"},at={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},lt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},it={key:0},nt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ut={key:1},bt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},gt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},pt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ft={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},xt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ct={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},yt={class:"flex flex-wrap gap-6"},mt={class:"flex items-center gap-3"},kt={class:"flex items-center gap-3"},vt={class:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-slate-700"},wt=["disabled"],ht={key:0},_t={key:1},Lt=M({__name:"Edit",props:{event:{},categories:{},instructors:{}},setup(x){var k;const i=x,c=P(null),r=S({type:i.event.type,title:i.event.title,category_id:i.event.category_id,instructor_ids:((k=i.event.instructors)==null?void 0:k.map(g=>g.id))||[],short_description:i.event.short_description||"",description:i.event.description,location_type:i.event.location_type,location:i.event.location||"",meeting_link:i.event.meeting_link||"",capacity:i.event.capacity||null,amount:i.event.amount,currency:i.event.currency,duration_hours:i.event.duration_hours||null,is_active:i.event.is_active,is_featured:i.event.is_featured,flier:null}),L=g=>{var v;const o=(v=g.target.files)==null?void 0:v[0];if(o){r.flier=o;const w=new FileReader;w.onload=F=>{var h;c.value=(h=F.target)==null?void 0:h.result},w.readAsDataURL(o)}},E=()=>{r.transform(g=>({...g,_method:"PUT"})).post(route("admin.events.update",i.event.id),{preserveScroll:!0})};return(g,t)=>(d(),j(B,null,{default:y(()=>[e("div",T,[e("div",N,[_(s(U),{href:g.route("admin.events.index"),class:"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors"},{default:y(()=>[...t[17]||(t[17]=[e("i",{class:"fas fa-arrow-left"},null,-1)])]),_:1},8,["href"]),e("div",null,[e("h1",$,"Edit "+l(x.event.type==="course"?"Course":"Event"),1),t[18]||(t[18]=e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Update event or course information",-1))])]),e("form",{onSubmit:q(E,["prevent"]),class:"bg-white dark:bg-slate-800 rounded-lg shadow border border-gray-200 dark:border-slate-700 p-6 space-y-6"},[e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},[b(" Type "),e("span",{class:"text-red-500"},"*")],-1)),e("div",A,[e("button",{type:"button",onClick:t[0]||(t[0]=o=>s(r).type="event"),class:p(["p-4 rounded-lg border-2 transition-all",s(r).type==="event"?"border-[#b30d4f] bg-[#b30d4f]/5 dark:bg-[#b30d4f]/10":"border-gray-200 dark:border-slate-600 hover:border-[#b30d4f]/50"])},[e("i",{class:p(["fas fa-calendar-day text-2xl mb-2",s(r).type==="event"?"text-[#b30d4f]":"text-gray-400"])},null,2),t[19]||(t[19]=e("p",{class:"font-semibold text-gray-900 dark:text-white"},"Event",-1)),t[20]||(t[20]=e("p",{class:"text-xs text-gray-600 dark:text-gray-400 mt-1"},"One-time or recurring event",-1))],2),e("button",{type:"button",onClick:t[1]||(t[1]=o=>s(r).type="course"),class:p(["p-4 rounded-lg border-2 transition-all",s(r).type==="course"?"border-[#b30d4f] bg-[#b30d4f]/5 dark:bg-[#b30d4f]/10":"border-gray-200 dark:border-slate-600 hover:border-[#b30d4f]/50"])},[e("i",{class:p(["fas fa-graduation-cap text-2xl mb-2",s(r).type==="course"?"text-[#b30d4f]":"text-gray-400"])},null,2),t[21]||(t[21]=e("p",{class:"font-semibold text-gray-900 dark:text-white"},"Course",-1)),t[22]||(t[22]=e("p",{class:"text-xs text-gray-600 dark:text-gray-400 mt-1"},"Multi-session learning program",-1))],2)]),s(r).errors.type?(d(),a("p",z,l(s(r).errors.type),1)):n("",!0)]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Flier/Cover Image ",-1)),e("div",I,[c.value?(d(),a("div",R,[e("img",{src:c.value,alt:"Preview",class:"w-full h-full object-cover"},null,8,G)])):x.event.flier?(d(),a("div",O,[e("img",{src:`/storage/${x.event.flier}`,alt:x.event.title,class:"w-full h-full object-cover"},null,8,W)])):(d(),a("div",Z,[...t[24]||(t[24]=[e("i",{class:"fas fa-image text-white text-4xl opacity-30"},null,-1)])])),e("div",H,[e("input",{type:"file",onInput:L,accept:"image/*",class:"block w-full text-sm text-gray-600 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-[#b30d4f] file:text-white hover:file:bg-[#8b0a3d] file:cursor-pointer cursor-pointer"},null,32),t[25]||(t[25]=e("p",{class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},"PNG, JPG up to 5MB. Recommended: 1200x630px",-1))])]),s(r).errors.flier?(d(),a("p",J,l(s(r).errors.flier),1)):n("",!0)]),e("div",K,[e("div",Q,[t[27]||(t[27]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[b(" Title "),e("span",{class:"text-red-500"},"*")],-1)),u(e("input",{id:"title","onUpdate:modelValue":t[2]||(t[2]=o=>s(r).title=o),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white",placeholder:"Enter event/course title"},null,512),[[f,s(r).title]]),s(r).errors.title?(d(),a("p",X,l(s(r).errors.title),1)):n("",!0)]),e("div",null,[t[29]||(t[29]=e("label",{for:"category_id",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[b(" Category "),e("span",{class:"text-red-500"},"*")],-1)),u(e("select",{id:"category_id","onUpdate:modelValue":t[3]||(t[3]=o=>s(r).category_id=o),required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"},[t[28]||(t[28]=e("option",{value:""},"Select category",-1)),(d(!0),a(C,null,V(x.categories,o=>(d(),a("option",{key:o.id,value:o.id},l(o.name),9,Y))),128))],512),[[m,s(r).category_id]]),s(r).errors.category_id?(d(),a("p",tt,l(s(r).errors.category_id),1)):n("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{for:"instructors",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[b(" Instructors "),e("span",{class:"text-red-500"},"*")],-1)),u(e("select",{id:"instructors","onUpdate:modelValue":t[4]||(t[4]=o=>s(r).instructor_ids=o),multiple:"",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white",size:"4"},[(d(!0),a(C,null,V(x.instructors,o=>(d(),a("option",{key:o.id,value:o.id},l(o.name),9,et))),128))],512),[[m,s(r).instructor_ids]]),t[31]||(t[31]=e("p",{class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},"Hold Ctrl/Cmd to select multiple",-1)),s(r).errors.instructor_ids?(d(),a("p",rt,l(s(r).errors.instructor_ids),1)):n("",!0)])]),e("div",null,[t[32]||(t[32]=e("label",{for:"short_description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Short Description ",-1)),u(e("input",{id:"short_description","onUpdate:modelValue":t[5]||(t[5]=o=>s(r).short_description=o),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white",placeholder:"Brief one-line description"},null,512),[[f,s(r).short_description]]),s(r).errors.short_description?(d(),a("p",st,l(s(r).errors.short_description),1)):n("",!0)]),e("div",null,[t[33]||(t[33]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[b(" Full Description "),e("span",{class:"text-red-500"},"*")],-1)),u(e("textarea",{id:"description","onUpdate:modelValue":t[6]||(t[6]=o=>s(r).description=o),rows:"6",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white",placeholder:"Detailed description, objectives, target audience, etc."},null,512),[[f,s(r).description]]),s(r).errors.description?(d(),a("p",ot,l(s(r).errors.description),1)):n("",!0)]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},[b(" Location Type "),e("span",{class:"text-red-500"},"*")],-1)),e("div",dt,[e("button",{type:"button",onClick:t[7]||(t[7]=o=>s(r).location_type="physical"),class:p(["p-3 rounded-lg border-2 transition-all",s(r).location_type==="physical"?"border-[#b30d4f] bg-[#b30d4f]/5 dark:bg-[#b30d4f]/10":"border-gray-200 dark:border-slate-600 hover:border-[#b30d4f]/50"])},[e("i",{class:p(["fas fa-map-marker-alt mr-2",s(r).location_type==="physical"?"text-[#b30d4f]":"text-gray-400"])},null,2),t[34]||(t[34]=e("span",{class:"font-semibold text-gray-900 dark:text-white"},"Physical Location",-1))],2),e("button",{type:"button",onClick:t[8]||(t[8]=o=>s(r).location_type="online"),class:p(["p-3 rounded-lg border-2 transition-all",s(r).location_type==="online"?"border-[#b30d4f] bg-[#b30d4f]/5 dark:bg-[#b30d4f]/10":"border-gray-200 dark:border-slate-600 hover:border-[#b30d4f]/50"])},[e("i",{class:p(["fas fa-video mr-2",s(r).location_type==="online"?"text-[#b30d4f]":"text-gray-400"])},null,2),t[35]||(t[35]=e("span",{class:"font-semibold text-gray-900 dark:text-white"},"Online/Virtual",-1))],2)]),s(r).errors.location_type?(d(),a("p",at,l(s(r).errors.location_type),1)):n("",!0)]),e("div",lt,[s(r).location_type==="physical"?(d(),a("div",it,[t[37]||(t[37]=e("label",{for:"location",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Physical Location ",-1)),u(e("input",{id:"location","onUpdate:modelValue":t[9]||(t[9]=o=>s(r).location=o),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white",placeholder:"Enter venue address"},null,512),[[f,s(r).location]]),s(r).errors.location?(d(),a("p",nt,l(s(r).errors.location),1)):n("",!0)])):n("",!0),s(r).location_type==="online"?(d(),a("div",ut,[t[38]||(t[38]=e("label",{for:"meeting_link",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Meeting Link ",-1)),u(e("input",{id:"meeting_link","onUpdate:modelValue":t[10]||(t[10]=o=>s(r).meeting_link=o),type:"url",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white",placeholder:"https://zoom.us/j/..."},null,512),[[f,s(r).meeting_link]]),s(r).errors.meeting_link?(d(),a("p",bt,l(s(r).errors.meeting_link),1)):n("",!0)])):n("",!0),e("div",null,[t[39]||(t[39]=e("label",{for:"capacity",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Capacity ",-1)),u(e("input",{id:"capacity","onUpdate:modelValue":t[11]||(t[11]=o=>s(r).capacity=o),type:"number",min:"1",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white",placeholder:"Maximum participants (leave empty for unlimited)"},null,512),[[f,s(r).capacity,void 0,{number:!0}]]),s(r).errors.capacity?(d(),a("p",gt,l(s(r).errors.capacity),1)):n("",!0)])]),e("div",pt,[e("div",null,[t[40]||(t[40]=e("label",{for:"amount",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[b(" Price "),e("span",{class:"text-red-500"},"*")],-1)),u(e("input",{id:"amount","onUpdate:modelValue":t[12]||(t[12]=o=>s(r).amount=o),type:"number",min:"0",step:"0.01",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white",placeholder:"0.00"},null,512),[[f,s(r).amount,void 0,{number:!0}]]),s(r).errors.amount?(d(),a("p",ft,l(s(r).errors.amount),1)):n("",!0)]),e("div",null,[t[42]||(t[42]=e("label",{for:"currency",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[b(" Currency "),e("span",{class:"text-red-500"},"*")],-1)),u(e("select",{id:"currency","onUpdate:modelValue":t[13]||(t[13]=o=>s(r).currency=o),required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"},[...t[41]||(t[41]=[e("option",{value:"USD"},"USD",-1),e("option",{value:"ZWL"},"ZWL",-1)])],512),[[m,s(r).currency]]),s(r).errors.currency?(d(),a("p",xt,l(s(r).errors.currency),1)):n("",!0)]),e("div",null,[t[43]||(t[43]=e("label",{for:"duration_hours",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Duration (hours) ",-1)),u(e("input",{id:"duration_hours","onUpdate:modelValue":t[14]||(t[14]=o=>s(r).duration_hours=o),type:"number",min:"0.5",step:"0.5",class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white",placeholder:"e.g., 2.5"},null,512),[[f,s(r).duration_hours,void 0,{number:!0}]]),s(r).errors.duration_hours?(d(),a("p",ct,l(s(r).errors.duration_hours),1)):n("",!0)])]),e("div",yt,[e("div",mt,[u(e("input",{id:"is_active","onUpdate:modelValue":t[15]||(t[15]=o=>s(r).is_active=o),type:"checkbox",class:"w-5 h-5 rounded border-gray-300 dark:border-slate-600 text-[#b30d4f] focus:ring-[#b30d4f] dark:focus:ring-[#e0156b]"},null,512),[[D,s(r).is_active]]),t[44]||(t[44]=e("label",{for:"is_active",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Active (visible to users) ",-1))]),e("div",kt,[u(e("input",{id:"is_featured","onUpdate:modelValue":t[16]||(t[16]=o=>s(r).is_featured=o),type:"checkbox",class:"w-5 h-5 rounded border-gray-300 dark:border-slate-600 text-[#b30d4f] focus:ring-[#b30d4f] dark:focus:ring-[#e0156b]"},null,512),[[D,s(r).is_featured]]),t[45]||(t[45]=e("label",{for:"is_featured",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Featured (show prominently) ",-1))])]),e("div",vt,[_(s(U),{href:g.route("admin.events.index"),class:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"},{default:y(()=>[...t[46]||(t[46]=[b(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(r).processing,class:"px-6 py-2 bg-gradient-to-r from-[#b30d4f] to-[#8b0a3d] text-white font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},[s(r).processing?(d(),a("span",ht,[...t[47]||(t[47]=[e("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),b(" Updating... ",-1)])])):(d(),a("span",_t,[t[48]||(t[48]=e("i",{class:"fas fa-save mr-2"},null,-1)),b(" Update "+l(s(r).type==="course"?"Course":"Event"),1)]))],8,wt)])],32)])]),_:1}))}});export{Lt as default};
