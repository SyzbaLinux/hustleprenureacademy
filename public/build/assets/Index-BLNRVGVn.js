import{d as L,r as k,c as T,w as u,a as e,b as v,e as g,l as x,j as i,t as l,g as h,v as M,q as _,h as a,o as s,F as C,m as j,i as S,n,p as A}from"./app-sSc8GzTu.js";import{A as $}from"./AdminLayout-DMbnth8z.js";import"./NavLink-DUR0EKqG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"space-y-6"},D={class:"flex items-center justify-between"},I={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},U={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},H={class:"flex items-center justify-between"},P={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},q={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},z={class:"flex items-center justify-between"},Q={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},G={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},J={class:"flex items-center justify-between"},K={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},O={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},R={class:"flex items-center justify-between"},W={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},X={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},Y={class:"flex items-center justify-between"},Z={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},ee={class:"bg-white dark:bg-slate-800 rounded-lg shadow border border-gray-200 dark:border-slate-700 p-4"},te={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"},re={class:"lg:col-span-2"},se={class:"relative"},ae=["value"],le={class:"bg-white dark:bg-slate-800 rounded-lg shadow border border-gray-200 dark:border-slate-700 overflow-hidden"},de={key:0,class:"overflow-x-auto"},oe={class:"w-full"},ie={class:"divide-y divide-gray-200 dark:divide-slate-700"},ne={class:"px-6 py-4"},ue={class:"flex items-center gap-3"},ge={key:0,class:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0"},xe=["src","alt"],be={key:1,class:"w-12 h-12 rounded-lg bg-gradient-to-br from-[#b30d4f] to-[#8b0a3d] flex items-center justify-center flex-shrink-0"},ce={class:"min-w-0"},fe={class:"font-medium text-gray-900 dark:text-white truncate"},ye={class:"text-sm text-gray-600 dark:text-gray-400"},pe={key:0},me={key:1,class:"text-gray-400"},ke={class:"px-6 py-4 whitespace-nowrap"},ve={key:0,class:"ml-1 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200"},he={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},we={class:"px-6 py-4 whitespace-nowrap"},_e={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ce={class:"flex items-center justify-end gap-2"},je=["onClick","disabled","title"],Ae={key:0,class:"p-6 border-t border-gray-200 dark:border-slate-700"},Ee={class:"flex justify-center gap-2"},Te={key:1,class:"p-12 text-center"},Le=L({__name:"Index",props:{events:{},categories:{},stats:{},filters:{}},setup(d){const b=d,c=k(b.filters.search||""),f=k(b.filters.type||"all"),y=k(b.filters.status||"all"),p=k(b.filters.category_id||"all");let w=null;const V=()=>{w&&clearTimeout(w),w=setTimeout(()=>{m()},500)},m=()=>{A.get(route("admin.events.index"),{search:c.value,type:f.value,status:y.value,category_id:p.value},{preserveState:!0,preserveScroll:!0})},F=()=>{c.value="",f.value="all",y.value="all",p.value="all",A.get(route("admin.events.index"),{},{preserveState:!0})},N=o=>{if(o.enrollments_count&&o.enrollments_count>0){alert("Cannot delete event/course with enrollments. Please remove or refund them first.");return}confirm(`Are you sure you want to delete "${o.title}"?`)&&A.delete(route("admin.events.destroy",o.id))};return(o,t)=>(s(),T($,null,{default:u(()=>[e("div",B,[e("div",D,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Events & Courses"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage events and courses")],-1)),v(g(x),{href:o.route("admin.events.create"),class:"px-4 py-2 bg-gradient-to-r from-[#b30d4f] to-[#8b0a3d] text-white font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all duration-200 flex items-center gap-2"},{default:u(()=>[...t[4]||(t[4]=[e("i",{class:"fas fa-plus"},null,-1),i(" Add Event/Course ",-1)])]),_:1},8,["href"])]),e("div",I,[e("div",U,[e("div",H,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Total",-1)),e("p",P,l(d.stats.total),1)]),t[7]||(t[7]=e("div",{class:"w-12 h-12 bg-[#b30d4f]/10 dark:bg-[#b30d4f]/20 rounded-lg flex items-center justify-center"},[e("i",{class:"fas fa-calendar-alt text-[#b30d4f] dark:text-[#e0156b] text-xl"})],-1))])]),e("div",q,[e("div",z,[e("div",null,[t[8]||(t[8]=e("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Events",-1)),e("p",Q,l(d.stats.events),1)]),t[9]||(t[9]=e("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},[e("i",{class:"fas fa-calendar-day text-blue-600 dark:text-blue-400 text-xl"})],-1))])]),e("div",G,[e("div",J,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Courses",-1)),e("p",K,l(d.stats.courses),1)]),t[11]||(t[11]=e("div",{class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"},[e("i",{class:"fas fa-graduation-cap text-purple-600 dark:text-purple-400 text-xl"})],-1))])]),e("div",O,[e("div",R,[e("div",null,[t[12]||(t[12]=e("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Active",-1)),e("p",W,l(d.stats.active),1)]),t[13]||(t[13]=e("div",{class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},[e("i",{class:"fas fa-check-circle text-green-600 dark:text-green-400 text-xl"})],-1))])]),e("div",X,[e("div",Y,[e("div",null,[t[14]||(t[14]=e("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Enrollments",-1)),e("p",Z,l(d.stats.enrollments),1)]),t[15]||(t[15]=e("div",{class:"w-12 h-12 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center"},[e("i",{class:"fas fa-user-graduate text-amber-600 dark:text-amber-400 text-xl"})],-1))])])]),e("div",ee,[e("div",te,[e("div",re,[e("div",se,[h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>c.value=r),onInput:V,type:"text",placeholder:"Search events/courses...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"},null,544),[[M,c.value]]),t[16]||(t[16]=e("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1))])]),e("div",null,[h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>f.value=r),onChange:m,class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"},[...t[17]||(t[17]=[e("option",{value:"all"},"All Types",-1),e("option",{value:"event"},"Events",-1),e("option",{value:"course"},"Courses",-1)])],544),[[_,f.value]])]),e("div",null,[h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>y.value=r),onChange:m,class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"},[...t[18]||(t[18]=[e("option",{value:"all"},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)])],544),[[_,y.value]])]),e("div",null,[h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>p.value=r),onChange:m,class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"},[t[19]||(t[19]=e("option",{value:"all"},"All Categories",-1)),(s(!0),a(C,null,j(d.categories,r=>(s(),a("option",{key:r.id,value:r.id},l(r.name),9,ae))),128))],544),[[_,p.value]])]),e("div",null,[e("button",{onClick:F,class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"},[...t[20]||(t[20]=[e("i",{class:"fas fa-times mr-2"},null,-1),i(" Clear ",-1)])])])])]),e("div",le,[t[30]||(t[30]=e("div",{class:"p-6 border-b border-gray-200 dark:border-slate-700"},[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},[e("i",{class:"fas fa-table text-[#b30d4f] dark:text-[#e0156b]"}),i(" Events & Courses List ")])],-1)),d.events.data.length>0?(s(),a("div",de,[e("table",oe,[t[25]||(t[25]=e("thead",{class:"bg-gray-50 dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Event/Course"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Price"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-right text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",ie,[(s(!0),a(C,null,j(d.events.data,r=>(s(),a("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-slate-900/50"},[e("td",ne,[e("div",ue,[r.flier?(s(),a("div",ge,[e("img",{src:`/storage/${r.flier}`,alt:r.title,class:"w-full h-full object-cover"},null,8,xe)])):(s(),a("div",be,[...t[21]||(t[21]=[e("i",{class:"fas fa-calendar-alt text-white"},null,-1)])])),e("div",ce,[e("p",fe,l(r.title),1),e("p",ye,[r.category?(s(),a("span",pe,l(r.category.name),1)):(s(),a("span",me,"No category"))])])])]),e("td",ke,[e("span",{class:n(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.type==="course"?"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200"])},[e("i",{class:n(`fas ${r.type==="course"?"fa-graduation-cap":"fa-calendar-day"} mr-1`)},null,2),i(" "+l(r.type),1)],2),r.is_featured?(s(),a("span",ve,[...t[22]||(t[22]=[e("i",{class:"fas fa-star mr-1"},null,-1),i(" Featured ",-1)])])):S("",!0)]),e("td",he,l(r.currency)+" "+l(r.amount),1),e("td",we,[e("span",{class:n(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.is_active?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200"])},[e("i",{class:n(`fas ${r.is_active?"fa-check-circle":"fa-times-circle"} mr-1`)},null,2),i(" "+l(r.is_active?"Active":"Inactive"),1)],2)]),e("td",_e,[e("div",Ce,[v(g(x),{href:o.route("admin.events.show",r.id),class:"px-3 py-1.5 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors text-xs font-medium"},{default:u(()=>[...t[23]||(t[23]=[i(" View ",-1)])]),_:1},8,["href"]),v(g(x),{href:o.route("admin.events.edit",r.id),class:"px-3 py-1.5 bg-[#b30d4f] text-white rounded-lg hover:bg-[#8b0a3d] transition-colors text-xs font-medium"},{default:u(()=>[...t[24]||(t[24]=[i(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:E=>N(r),class:n(["px-3 py-1.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors text-xs font-medium",{"opacity-50 cursor-not-allowed":r.enrollments_count>0}]),disabled:r.enrollments_count>0,title:r.enrollments_count>0?"Cannot delete with enrollments":"Delete"}," Delete ",10,je)])])]))),128))])]),d.events.links.length>3?(s(),a("div",Ae,[e("nav",Ee,[(s(!0),a(C,null,j(d.events.links,(r,E)=>(s(),T(g(x),{key:E,href:r.url||"#",class:n(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",r.active?"bg-[#b30d4f] text-white":r.url?"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700":"bg-gray-100 dark:bg-slate-900 text-gray-400 dark:text-gray-600 cursor-not-allowed"]),innerHTML:r.label},null,8,["href","class","innerHTML"]))),128))])])):S("",!0)])):(s(),a("div",Te,[t[27]||(t[27]=e("div",{class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-slate-700 mb-4"},[e("i",{class:"fas fa-calendar-alt text-gray-400 dark:text-gray-500 text-2xl"})],-1)),t[28]||(t[28]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"No events or courses found",-1)),t[29]||(t[29]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-4"},"Try adjusting your filters or add a new event",-1)),v(g(x),{href:o.route("admin.events.create"),class:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#b30d4f] to-[#8b0a3d] text-white font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all duration-200"},{default:u(()=>[...t[26]||(t[26]=[e("i",{class:"fas fa-plus"},null,-1),i(" Add Event/Course ",-1)])]),_:1},8,["href"])]))])])]),_:1}))}});export{Le as default};
