import{d as L,p as y,c as S,w as m,a as t,b as A,e as k,l as h,j as i,t as l,i as v,v as M,q as E,g as a,o as r,F as w,r as _,h as C,n,m as T}from"./app-D49MYF5Q.js";import{A as N}from"./AdminLayout-XUd7MZhg.js";import"./NavLink-DOp6EBnF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"space-y-6"},B={class:"flex items-center justify-between"},U={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},D={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},H={class:"flex items-center justify-between"},P={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},q={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},z={class:"flex items-center justify-between"},Q={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},G={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},J={class:"flex items-center justify-between"},K={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},O={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},R={class:"flex items-center justify-between"},W={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},X={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},Y={class:"flex items-center justify-between"},Z={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},tt={class:"bg-white dark:bg-slate-800 rounded-lg shadow border border-gray-200 dark:border-slate-700 p-4"},et={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"},st={class:"lg:col-span-2"},rt={class:"relative"},at=["value"],lt={class:"bg-white dark:bg-slate-800 rounded-lg shadow border border-gray-200 dark:border-slate-700 overflow-hidden"},dt={key:0,class:"overflow-x-auto"},ot={class:"w-full"},it={class:"divide-y divide-gray-200 dark:divide-slate-700"},nt={class:"px-6 py-4"},ut={class:"flex items-center gap-3"},gt={key:0,class:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0"},xt=["src","alt"],ct={key:1,class:"w-12 h-12 rounded-lg bg-gradient-to-br from-[#b30d4f] to-[#8b0a3d] flex items-center justify-center flex-shrink-0"},ft={class:"min-w-0"},bt={class:"font-medium text-gray-900 dark:text-white truncate"},pt={key:0,class:"text-sm text-gray-600 dark:text-gray-400 truncate"},yt={class:"px-6 py-4 whitespace-nowrap"},mt={key:0,class:"ml-1 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200"},kt={class:"px-6 py-4 whitespace-nowrap text-sm"},ht={key:0,class:"text-gray-900 dark:text-white"},vt={key:1,class:"text-gray-400"},wt={class:"px-6 py-4"},_t={key:0,class:"flex flex-wrap gap-1"},Ct={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300"},jt={key:1,class:"text-sm text-gray-400"},At={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Et={class:"px-6 py-4 whitespace-nowrap"},Tt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},St={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ft={class:"flex items-center justify-end gap-2"},Vt=["onClick","disabled","title"],It={key:0,class:"p-6 border-t border-gray-200 dark:border-slate-700"},Lt={class:"flex justify-center gap-2"},Mt={key:1,class:"p-12 text-center"},Dt=L({__name:"Index",props:{events:{},categories:{},stats:{},filters:{}},setup(d){const g=d,x=y(g.filters.search||""),c=y(g.filters.type||"all"),f=y(g.filters.status||"all"),b=y(g.filters.category_id||"all");let j=null;const F=()=>{j&&clearTimeout(j),j=setTimeout(()=>{p()},500)},p=()=>{T.get(route("admin.events.index"),{search:x.value,type:c.value,status:f.value,category_id:b.value},{preserveState:!0,preserveScroll:!0})},V=()=>{x.value="",c.value="all",f.value="all",b.value="all",T.get(route("admin.events.index"),{},{preserveState:!0})},I=o=>{if(o.enrollments_count&&o.enrollments_count>0){alert("Cannot delete event/course with enrollments. Please remove or refund them first.");return}confirm(`Are you sure you want to delete "${o.title}"?`)&&T.delete(route("admin.events.destroy",o.id))};return(o,e)=>(r(),S(N,null,{default:m(()=>[t("div",$,[t("div",B,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Events & Courses"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage events and courses")],-1)),A(k(h),{href:o.route("admin.events.create"),class:"px-4 py-2 bg-gradient-to-r from-[#b30d4f] to-[#8b0a3d] text-white font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all duration-200 flex items-center gap-2"},{default:m(()=>[...e[4]||(e[4]=[t("i",{class:"fas fa-plus"},null,-1),i(" Add Event/Course ",-1)])]),_:1},8,["href"])]),t("div",U,[t("div",D,[t("div",H,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Total",-1)),t("p",P,l(d.stats.total),1)]),e[7]||(e[7]=t("div",{class:"w-12 h-12 bg-[#b30d4f]/10 dark:bg-[#b30d4f]/20 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-calendar-alt text-[#b30d4f] dark:text-[#e0156b] text-xl"})],-1))])]),t("div",q,[t("div",z,[t("div",null,[e[8]||(e[8]=t("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Events",-1)),t("p",Q,l(d.stats.events),1)]),e[9]||(e[9]=t("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-calendar-day text-blue-600 dark:text-blue-400 text-xl"})],-1))])]),t("div",G,[t("div",J,[t("div",null,[e[10]||(e[10]=t("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Courses",-1)),t("p",K,l(d.stats.courses),1)]),e[11]||(e[11]=t("div",{class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-graduation-cap text-purple-600 dark:text-purple-400 text-xl"})],-1))])]),t("div",O,[t("div",R,[t("div",null,[e[12]||(e[12]=t("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Active",-1)),t("p",W,l(d.stats.active),1)]),e[13]||(e[13]=t("div",{class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-check-circle text-green-600 dark:text-green-400 text-xl"})],-1))])]),t("div",X,[t("div",Y,[t("div",null,[e[14]||(e[14]=t("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Enrollments",-1)),t("p",Z,l(d.stats.enrollments),1)]),e[15]||(e[15]=t("div",{class:"w-12 h-12 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-user-graduate text-amber-600 dark:text-amber-400 text-xl"})],-1))])])]),t("div",tt,[t("div",et,[t("div",st,[t("div",rt,[v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>x.value=s),onInput:F,type:"text",placeholder:"Search events/courses...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"},null,544),[[M,x.value]]),e[16]||(e[16]=t("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1))])]),t("div",null,[v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),onChange:p,class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"},[...e[17]||(e[17]=[t("option",{value:"all"},"All Types",-1),t("option",{value:"event"},"Events",-1),t("option",{value:"course"},"Courses",-1)])],544),[[E,c.value]])]),t("div",null,[v(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>f.value=s),onChange:p,class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"},[...e[18]||(e[18]=[t("option",{value:"all"},"All Status",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],544),[[E,f.value]])]),t("div",null,[v(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>b.value=s),onChange:p,class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#b30d4f] dark:focus:ring-[#e0156b] focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"},[e[19]||(e[19]=t("option",{value:"all"},"All Categories",-1)),(r(!0),a(w,null,_(d.categories,s=>(r(),a("option",{key:s.id,value:s.id},l(s.name),9,at))),128))],544),[[E,b.value]])]),t("div",null,[t("button",{onClick:V,class:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"},[...e[20]||(e[20]=[t("i",{class:"fas fa-times mr-2"},null,-1),i(" Clear ",-1)])])])])]),t("div",lt,[e[30]||(e[30]=t("div",{class:"p-6 border-b border-gray-200 dark:border-slate-700"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},[t("i",{class:"fas fa-table text-[#b30d4f] dark:text-[#e0156b]"}),i(" Events & Courses List ")])],-1)),d.events.data.length>0?(r(),a("div",dt,[t("table",ot,[e[25]||(e[25]=t("thead",{class:"bg-gray-50 dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Event/Course"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Type"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Category"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Instructors"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Price"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Enrollments"),t("th",{class:"px-6 py-3 text-right text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",it,[(r(!0),a(w,null,_(d.events.data,s=>(r(),a("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-900/50"},[t("td",nt,[t("div",ut,[s.flier?(r(),a("div",gt,[t("img",{src:`/storage/${s.flier}`,alt:s.title,class:"w-full h-full object-cover"},null,8,xt)])):(r(),a("div",ct,[...e[21]||(e[21]=[t("i",{class:"fas fa-calendar-alt text-white"},null,-1)])])),t("div",ft,[t("p",bt,l(s.title),1),s.short_description?(r(),a("p",pt,l(s.short_description),1)):C("",!0)])])]),t("td",yt,[t("span",{class:n(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.type==="course"?"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200"])},[t("i",{class:n(`fas ${s.type==="course"?"fa-graduation-cap":"fa-calendar-day"} mr-1`)},null,2),i(" "+l(s.type),1)],2),s.is_featured?(r(),a("span",mt,[...e[22]||(e[22]=[t("i",{class:"fas fa-star mr-1"},null,-1),i(" Featured ",-1)])])):C("",!0)]),t("td",kt,[s.category?(r(),a("span",ht,l(s.category.name),1)):(r(),a("span",vt,"-"))]),t("td",wt,[s.instructors&&s.instructors.length>0?(r(),a("div",_t,[(r(!0),a(w,null,_(s.instructors.slice(0,2),u=>(r(),a("span",{key:u.id,class:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300"},l(u.name),1))),128)),s.instructors.length>2?(r(),a("span",Ct," +"+l(s.instructors.length-2),1)):C("",!0)])):(r(),a("span",jt,"-"))]),t("td",At,l(s.currency)+" "+l(s.amount),1),t("td",Et,[t("span",{class:n(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.is_active?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200"])},[t("i",{class:n(`fas ${s.is_active?"fa-check-circle":"fa-times-circle"} mr-1`)},null,2),i(" "+l(s.is_active?"Active":"Inactive"),1)],2)]),t("td",Tt,l(s.enrollments_count||0),1),t("td",St,[t("div",Ft,[A(k(h),{href:o.route("admin.events.edit",s.id),class:"p-2 text-[#b30d4f] dark:text-[#e0156b] hover:bg-[#b30d4f]/10 dark:hover:bg-[#b30d4f]/20 rounded-lg transition-colors",title:"Edit"},{default:m(()=>[...e[23]||(e[23]=[t("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:u=>I(s),class:n(["p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",{"opacity-50 cursor-not-allowed":s.enrollments_count>0}]),disabled:s.enrollments_count>0,title:s.enrollments_count>0?"Cannot delete with enrollments":"Delete"},[...e[24]||(e[24]=[t("i",{class:"fas fa-trash"},null,-1)])],10,Vt)])])]))),128))])]),d.events.links.length>3?(r(),a("div",It,[t("nav",Lt,[(r(!0),a(w,null,_(d.events.links,(s,u)=>(r(),S(k(h),{key:u,href:s.url||"#",class:n(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",s.active?"bg-[#b30d4f] text-white":s.url?"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700":"bg-gray-100 dark:bg-slate-900 text-gray-400 dark:text-gray-600 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):C("",!0)])):(r(),a("div",Mt,[e[27]||(e[27]=t("div",{class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-slate-700 mb-4"},[t("i",{class:"fas fa-calendar-alt text-gray-400 dark:text-gray-500 text-2xl"})],-1)),e[28]||(e[28]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"No events or courses found",-1)),e[29]||(e[29]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-4"},"Try adjusting your filters or add a new event",-1)),A(k(h),{href:o.route("admin.events.create"),class:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#b30d4f] to-[#8b0a3d] text-white font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all duration-200"},{default:m(()=>[...e[26]||(e[26]=[t("i",{class:"fas fa-plus"},null,-1),i(" Add Event/Course ",-1)])]),_:1},8,["href"])]))])])]),_:1}))}});export{Dt as default};
