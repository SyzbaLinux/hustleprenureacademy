import{d as P,r as m,c as p,w as h,a as t,n,j as g,t as s,h as o,o as l,i as f,F as v,m as w,b as D,e as _,l as j,p as c}from"./app-sSc8GzTu.js";import{A as $}from"./AdminLayout-DMbnth8z.js";import"./NavLink-DUR0EKqG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"space-y-6"},V={class:"flex gap-2"},B={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},E={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},L={class:"flex items-center justify-between"},I={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},M={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},U={class:"flex items-center justify-between"},H={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},R={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},z={class:"flex items-center justify-between"},G={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},q={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},J={class:"flex items-center justify-between"},K={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},O={class:"bg-white dark:bg-slate-800 rounded-lg shadow border border-gray-200 dark:border-slate-700 overflow-hidden"},Q={key:0,class:"overflow-x-auto"},W={class:"w-full"},X={class:"divide-y divide-gray-200 dark:divide-slate-700"},Y={class:"px-6 py-4"},Z={class:"text-sm font-semibold text-gray-900 dark:text-white"},tt={class:"text-xs font-mono text-gray-600 dark:text-gray-400 mt-1"},et={key:0,class:"text-xs text-gray-500 dark:text-gray-500"},rt={class:"px-6 py-4"},st={class:"text-sm font-medium text-gray-900 dark:text-white"},at={class:"text-xs text-gray-600 dark:text-gray-400"},dt={class:"px-6 py-4 whitespace-nowrap"},lt={class:"text-sm font-semibold text-gray-900 dark:text-white"},ot={class:"px-6 py-4 whitespace-nowrap"},it={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"},nt={class:"px-6 py-4 whitespace-nowrap"},gt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400"},xt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ct={class:"flex items-center justify-end gap-2"},bt=["onClick","disabled"],ut=["onClick","disabled"],ft={key:0,class:"p-6 border-t border-gray-200 dark:border-slate-700"},yt={class:"flex justify-center gap-2"},kt={key:1,class:"p-12 text-center"},_t=P({__name:"Index",props:{payments:{},stats:{},currentFilter:{}},setup(d){const x=m(d.currentFilter||"all"),i=m(null),b=a=>{x.value=a,c.get(route("admin.payments.index"),{status:a},{preserveState:!0})},C=a=>{i.value=a.id,c.post(route("admin.payments.mark-paid",a.id),{},{onSuccess:()=>{c.reload()},onError:()=>{i.value=null},onFinish:()=>{i.value=null}})},S=a=>{i.value=a.id,c.post(route("admin.payments.create-enrollment",a.id),{},{onSuccess:()=>{c.reload()},onError:()=>{i.value=null},onFinish:()=>{i.value=null}})},F=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=a=>Number(a).toFixed(2),A=a=>{switch(a){case"paid":return"fa-check-circle";case"pending":case"processing":return"fa-clock";case"failed":return"fa-times-circle";case"refunded":return"fa-undo";default:return"fa-circle"}};return(a,e)=>(l(),p($,null,{default:h(()=>[t("div",T,[e[22]||(e[22]=t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Payments"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"View and manage payment transactions")])],-1)),t("div",V,[t("button",{onClick:e[0]||(e[0]=r=>b("all")),class:n(["px-4 py-2 rounded-lg font-medium transition-colors",x.value==="all"?"bg-[#b30d4f] text-white":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"])},[e[4]||(e[4]=t("i",{class:"fas fa-list mr-2"},null,-1)),g(" All ("+s(d.stats.total)+") ",1)],2),t("button",{onClick:e[1]||(e[1]=r=>b("paid")),class:n(["px-4 py-2 rounded-lg font-medium transition-colors",x.value==="paid"?"bg-[#b30d4f] text-white":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"])},[e[5]||(e[5]=t("i",{class:"fas fa-check-circle mr-2"},null,-1)),g(" Paid ("+s(d.stats.paid)+") ",1)],2),t("button",{onClick:e[2]||(e[2]=r=>b("pending")),class:n(["px-4 py-2 rounded-lg font-medium transition-colors",x.value==="pending"?"bg-[#b30d4f] text-white":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"])},[e[6]||(e[6]=t("i",{class:"fas fa-clock mr-2"},null,-1)),g(" Pending ("+s(d.stats.pending)+") ",1)],2),t("button",{onClick:e[3]||(e[3]=r=>b("failed")),class:n(["px-4 py-2 rounded-lg font-medium transition-colors",x.value==="failed"?"bg-[#b30d4f] text-white":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"])},[e[7]||(e[7]=t("i",{class:"fas fa-times-circle mr-2"},null,-1)),g(" Failed ("+s(d.stats.failed)+") ",1)],2)]),t("div",B,[t("div",E,[t("div",L,[t("div",null,[e[8]||(e[8]=t("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Total Payments",-1)),t("p",I,s(d.stats.total),1)]),e[9]||(e[9]=t("div",{class:"w-12 h-12 bg-[#b30d4f]/10 dark:bg-[#b30d4f]/20 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-credit-card text-[#b30d4f] dark:text-[#e0156b] text-xl"})],-1))])]),t("div",M,[t("div",U,[t("div",null,[e[10]||(e[10]=t("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Successful",-1)),t("p",H,s(d.stats.paid),1)]),e[11]||(e[11]=t("div",{class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-check-circle text-green-600 dark:text-green-400 text-xl"})],-1))])]),t("div",R,[t("div",z,[t("div",null,[e[12]||(e[12]=t("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Pending",-1)),t("p",G,s(d.stats.pending),1)]),e[13]||(e[13]=t("div",{class:"w-12 h-12 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-clock text-amber-600 dark:text-amber-400 text-xl"})],-1))])]),t("div",q,[t("div",J,[t("div",null,[e[14]||(e[14]=t("p",{class:"text-gray-600 dark:text-gray-400 text-sm font-medium"},"Total Revenue",-1)),t("p",K,"USD "+s(y(d.stats.total_amount)),1)]),e[15]||(e[15]=t("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-dollar-sign text-blue-600 dark:text-blue-400 text-xl"})],-1))])])]),t("div",O,[e[21]||(e[21]=t("div",{class:"p-6 border-b border-gray-200 dark:border-slate-700"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},[t("i",{class:"fas fa-list text-[#b30d4f] dark:text-[#e0156b]"}),g(" Payment Transactions ")])],-1)),d.payments.data.length>0?(l(),o("div",Q,[t("table",W,[e[19]||(e[19]=t("thead",{class:"bg-gray-50 dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Event & Reference"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"User"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Method"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Date"),t("th",{class:"px-6 py-3 text-right text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",X,[(l(!0),o(v,null,w(d.payments.data,r=>{var u,k;return l(),o("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-slate-900/50"},[t("td",Y,[t("div",null,[t("p",Z,s(((u=r.event)==null?void 0:u.title)||"N/A"),1),t("p",tt,s(r.reference_number),1),r.transaction_id?(l(),o("p",et,"ID: "+s(r.transaction_id),1)):f("",!0)])]),t("td",rt,[t("p",st,s(((k=r.user)==null?void 0:k.name)||"Guest"),1),t("p",at,s(r.phone_number),1)]),t("td",dt,[t("p",lt,s(r.currency)+" "+s(y(r.amount)),1)]),t("td",ot,[t("span",it,s(r.payment_method),1)]),t("td",nt,[t("span",{class:n(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.status==="paid"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":r.status==="pending"?"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200":r.status==="failed"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"])},[t("i",{class:n(`fas ${A(r.status)} mr-1`)},null,2),g(" "+s(r.status),1)],2)]),t("td",gt,s(F(r.created_at)),1),t("td",xt,[t("div",ct,[D(_(j),{href:a.route("admin.payments.show",r.id),class:"p-2 text-[#b30d4f] dark:text-[#e0156b] hover:bg-[#b30d4f]/10 dark:hover:bg-[#b30d4f]/20 rounded-lg transition-colors inline-flex items-center",title:"View details"},{default:h(()=>[...e[16]||(e[16]=[t("i",{class:"fas fa-eye"},null,-1)])]),_:1},8,["href"]),r.status==="failed"||r.status==="pending"?(l(),o("button",{key:0,onClick:N=>C(r),disabled:i.value===r.id,class:"p-2 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-lg transition-colors inline-flex items-center disabled:opacity-50",title:"Mark as paid"},[...e[17]||(e[17]=[t("i",{class:"fas fa-check"},null,-1)])],8,bt)):f("",!0),r.status==="paid"&&!r.enrollment?(l(),o("button",{key:1,onClick:N=>S(r),disabled:i.value===r.id,class:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors inline-flex items-center disabled:opacity-50",title:"Create enrollment"},[...e[18]||(e[18]=[t("i",{class:"fas fa-plus"},null,-1)])],8,ut)):f("",!0)])])])}),128))])]),d.payments.links.length>3?(l(),o("div",ft,[t("nav",yt,[(l(!0),o(v,null,w(d.payments.links,(r,u)=>(l(),p(_(j),{key:u,href:r.url||"#",class:n(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",r.active?"bg-[#b30d4f] text-white":r.url?"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700":"bg-gray-100 dark:bg-slate-900 text-gray-400 dark:text-gray-600 cursor-not-allowed"]),innerHTML:r.label},null,8,["href","class","innerHTML"]))),128))])])):f("",!0)])):(l(),o("div",kt,[...e[20]||(e[20]=[t("div",{class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-slate-700 mb-4"},[t("i",{class:"fas fa-credit-card text-gray-400 dark:text-gray-500 text-2xl"})],-1),t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"No payments found",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"No payments match the current filter",-1)])]))])])]),_:1}))}});export{_t as default};
