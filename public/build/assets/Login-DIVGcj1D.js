import{d as y,x as C,g as c,a as r,n as g,z as F,j as n,t as $,o as m,p as T,u as k,c as B,w as p,b as d,f as w,e as t,h as A,l as h}from"./app-D49MYF5Q.js";import{u as N,G as E}from"./GuestLayout-CqmLjtc1.js";import{A as I,a as v}from"./AuthButton-BwjgC6-U.js";import{F as b}from"./FormInput-CcYffUcI.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"mb-6 flex items-center"},O=["id","checked"],q=["for"],L=y({__name:"FormCheckbox",props:{modelValue:{type:Boolean},label:{default:""},id:{}},emits:["update:modelValue"],setup(i){const f=i,u=C(()=>f.id||`checkbox-${Math.random().toString(36).substr(2,9)}`);return(s,o)=>(m(),c("div",M,[r("input",{id:u.value,type:"checkbox",checked:i.modelValue,onChange:o[0]||(o[0]=a=>s.$emit("update:modelValue",a.target.checked)),class:g(["w-4 h-4 border-gray-300 dark:border-gray-600 rounded cursor-pointer","text-emerald-600 dark:text-emerald-500","focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400","accent-emerald-600 dark:accent-emerald-500"])},null,40,O),r("label",{for:u.value,class:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer hover:text-gray-900 dark:hover:text-gray-100 transition-colors"},[F(s.$slots,"default",{},()=>[n($(i.label),1)])],8,q)]))}}),U=V(L,[["__scopeId","data-v-e38b735e"]]),W={class:"flex gap-2 mb-6 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg"},R={class:"mt-5 space-y-2 text-center text-sm text-gray-600 dark:text-gray-400"},z={key:0},G=y({__name:"Login",props:{canResetPassword:{type:Boolean},status:{}},setup(i){const{showSuccess:f,showError:u}=N(),s=T("password"),o=k({email:"",password:"",remember:!1}),a=k({contact:"",method:"whatsapp"}),S=()=>{o.post(route("login.store"),{preserveScroll:!0,onFinish:()=>o.reset("password")})},P=()=>{a.post(route("otp.send"),{preserveScroll:!0,onSuccess:()=>{f("OTP sent successfully!")},onError:()=>{a.errors.contact?u(a.errors.contact):u("Failed to send OTP. Please try again.")}})};return(x,e)=>(m(),B(E,null,{default:p(()=>[d(I,{title:"Sign In",subtitle:"Enter your credentials"},{default:p(()=>[r("div",W,[r("button",{onClick:e[0]||(e[0]=l=>s.value="password"),class:g([{"bg-white dark:bg-slate-800 text-[#b30d4f] dark:text-[#e0156b] shadow-sm":s.value==="password","text-slate-600 dark:text-slate-400":s.value!=="password"},"flex-1 py-2 px-4 rounded-md font-medium transition-colors"])},[...e[6]||(e[6]=[r("i",{class:"fas fa-lock mr-2"},null,-1),n(" Password ",-1)])],2),r("button",{onClick:e[1]||(e[1]=l=>s.value="otp"),class:g([{"bg-white dark:bg-slate-800 text-[#b30d4f] dark:text-[#e0156b] shadow-sm":s.value==="otp","text-slate-600 dark:text-slate-400":s.value!=="otp"},"flex-1 py-2 px-4 rounded-md font-medium transition-colors"])},[...e[7]||(e[7]=[r("i",{class:"fas fa-message mr-2"},null,-1),n(" OTP ",-1)])],2)]),s.value==="password"?(m(),c("form",{key:0,onSubmit:w(S,["prevent"]),class:"space-y-4"},[d(b,{modelValue:t(o).email,"onUpdate:modelValue":e[2]||(e[2]=l=>t(o).email=l),type:"email",label:"Email",id:"email",icon:"fa-envelope",placeholder:"you@example.com",required:"",autocomplete:"email",error:t(o).errors.email},null,8,["modelValue","error"]),d(b,{modelValue:t(o).password,"onUpdate:modelValue":e[3]||(e[3]=l=>t(o).password=l),type:"password",label:"Password",id:"password",icon:"fa-lock",placeholder:"Your password",required:"",autocomplete:"current-password",error:t(o).errors.password},null,8,["modelValue","error"]),d(U,{modelValue:t(o).remember,"onUpdate:modelValue":e[4]||(e[4]=l=>t(o).remember=l),id:"remember",label:"Remember me"},null,8,["modelValue"]),d(v,{type:"submit",label:"Sign In",loading:t(o).processing,loadingText:"Signing in...",icon:"fa-arrow-right"},null,8,["loading"])],32)):(m(),c("form",{key:1,onSubmit:w(P,["prevent"]),class:"space-y-4"},[e[8]||(e[8]=r("div",{class:"bg-pink-50 dark:bg-[#b30d4f]/20 border border-pink-200 dark:border-[#b30d4f]/50 rounded-lg p-4"},[r("p",{class:"text-[#8b0a3d] dark:text-[#e0156b] text-sm flex items-start gap-2"},[r("i",{class:"fas fa-whatsapp mt-0.5 flex-shrink-0"}),r("span",null,"We'll send your login code via WhatsApp. Make sure your phone number is registered with WhatsApp.")])],-1)),d(b,{modelValue:t(a).contact,"onUpdate:modelValue":e[5]||(e[5]=l=>t(a).contact=l),type:"tel",label:"Phone Number",id:"phone",icon:"fa-phone",placeholder:"+1 (555) 000-0000",required:"",error:t(a).errors.contact},null,8,["modelValue","error"]),d(v,{type:"submit",label:"Send WhatsApp OTP",loading:t(a).processing,loadingText:"Sending...",icon:"fa-whatsapp"},null,8,["loading"])],32)),r("div",R,[i.canResetPassword&&s.value==="password"?(m(),c("div",z,[d(t(h),{href:x.route("password.request"),class:"block font-medium text-[#b30d4f] dark:text-[#e0156b] hover:text-[#8b0a3d] dark:hover:text-[#b30d4f] transition-colors"},{default:p(()=>[...e[9]||(e[9]=[n(" Forgot password? ",-1)])]),_:1},8,["href"])])):A("",!0),r("div",null,[e[11]||(e[11]=n(" No account? ",-1)),d(t(h),{href:x.route("register"),class:"font-medium text-[#b30d4f] dark:text-[#e0156b] hover:text-[#8b0a3d] dark:hover:text-[#b30d4f] transition-colors"},{default:p(()=>[...e[10]||(e[10]=[n(" Sign up ",-1)])]),_:1},8,["href"])])])]),_:1})]),_:1}))}}),J=V(G,[["__scopeId","data-v-2ab4a948"]]);export{J as default};
